function S(o,i,s){window.enmity.settings.set(o,i,s)}function r(o,i,s){return window.enmity.settings.get(o,i,s)}function R(o){window.enmity.plugins.registerPlugin(o)}function p(...o){return window.enmity.modules.getByProps(...o)}function k(...o){return window.enmity.modules.getByName(...o)}window.enmity.modules.common;const N=window.enmity.modules.common.Constants;window.enmity.modules.common.Clipboard,window.enmity.modules.common.Assets,window.enmity.modules.common.Messages,window.enmity.modules.common.Clyde,window.enmity.modules.common.Avatars,window.enmity.modules.common.Native;const n=window.enmity.modules.common.React;window.enmity.modules.common.Dispatcher,window.enmity.modules.common.Storage,window.enmity.modules.common.Toasts,window.enmity.modules.common.Dialog,window.enmity.modules.common.Token,window.enmity.modules.common.REST,window.enmity.modules.common.Settings,window.enmity.modules.common.Users,window.enmity.modules.common.Navigation,window.enmity.modules.common.NavigationNative,window.enmity.modules.common.NavigationStack,window.enmity.modules.common.Theme,window.enmity.modules.common.Linking;const P=window.enmity.modules.common.StyleSheet;window.enmity.modules.common.ColorMap,window.enmity.modules.common.Components,window.enmity.modules.common.Locale,window.enmity.modules.common.Profiles,window.enmity.modules.common.Lodash,window.enmity.modules.common.Logger,window.enmity.modules.common.Flux,window.enmity.modules.common.SVG,window.enmity.modules.common.Scenes,window.enmity.modules.common.Moment;function H(o){return window.enmity.patcher.create(o)}const{components:e}=window.enmity;e.Alert,e.Button,e.FlatList,e.Image,e.ImageBackground,e.KeyboardAvoidingView,e.Modal,e.Pressable,e.RefreshControl;const I=e.ScrollView;e.SectionList,e.StatusBar,e.StyleSheet,e.Switch;const L=e.Text;e.TextInput,e.TouchableHighlight;const B=e.TouchableOpacity;e.TouchableWithoutFeedback,e.Touchable,e.View,e.VirtualizedList,e.Form,e.FormArrow,e.FormCTA,e.FormCTAButton,e.FormCardSection,e.FormCheckbox,e.FormDivider,e.FormHint,e.FormIcon;const x=e.FormInput;e.FormLabel,e.FormRadio;const v=e.FormRow,F=e.FormSection;e.FormSelect,e.FormSubLabel,e.FormSwitch,e.FormTernaryCheckBox,e.FormText,e.FormTextColors,e.FormTextSizes;var G="Amogus",V="1.0",O="amogus",Q=[{name:"QuanTrieuPCYT",id:"699512154004652093"}],Y="#0000ff",t={name:G,version:V,description:O,authors:Q,color:Y};const U=p("DRMType","FilterType").default;function z({settings:o}){const[i,s]=n.useState(!0),c=P.createThemedStyleSheet({item:{color:N.ThemeColorMap.HEADER_PRIMARY}});return n.useEffect(()=>{},[]),n.createElement(I,null,n.createElement(F,{title:"\u0D9E"},n.createElement(x,{title:"Volume",placeholder:"69",keyboardType:"numeric",value:o.get("volume"),onChange:l=>o.set("volume",l)}),n.createElement(B,{onPress:()=>s(!1)},n.createElement(v,{label:"Test volume"}))),n.createElement(F,{title:"\u0D9E"},n.createElement(v,{label:"Amogus Counter",subLabel:"This is probably innacurate (aka \u0D9E\u0D9E\u0D9E\u0D9E)",trailing:()=>n.createElement(L,{style:c.item},Number(r(t.name,"amogusCounter",0)))})),n.createElement(U,{source:{uri:"https://github.com/QuanTrieuPCYT/Amogus/raw/main/src/amogus.mp4"},audioOnly:!0,paused:i,repeat:!0,onEnd:()=>s(!0),volume:Number(o.get("volume"))}))}const E=p("_currentDispatchActionType","_subscriptions","_actionHandlers","_waitQueue"),j=k("ChatBanner",{default:!1}),K=p("DRMType","FilterType").default,u=H("amogus");function A(o){return o=o.toLowerCase(),["\u0D9E","among us","amogus","amongus","sus","sussy","sussybaka","sussy baka"].some(i=>o.includes(i))}const W={...t,onStart(){r(t.name,"volume")||S(t.name,"volume","1");let o=0;const i=3,s=()=>{var c,l,b;try{o++;for(const a of["MESSAGE_CREATE","MESSAGE_UPDATE","MESSAGE_REACTION_ADD"])try{E.dispatch({type:a,message:{}})}catch(d){console.log(`[${t.name} Dispatch Error]`,d)}const f=(c=E._actionHandlers._orderedActionHandlers)==null?void 0:c.MESSAGE_CREATE.find(a=>a.name==="MessageStore"),D=(l=E._actionHandlers._orderedActionHandlers)==null?void 0:l.MESSAGE_UPDATE.find(a=>a.name==="MessageStore"),_=(b=E._actionHandlers._orderedActionHandlers)==null?void 0:b.MESSAGE_REACTION_ADD.find(a=>a.name==="MessageStore");u.instead(j,"default",(a,d,M)=>{const h=d[0].channel.id,[w,T]=n.useState(!0);let y;return u.after(f,"actionHandler",(g,m,C)=>{m[0].channelId===h&&m[0].message.content&&A(m[0].message.content)&&(y.seek(0),w&&T(!1),S(t.name,"amogusCounter",Number(r(t.name,"amogusCounter",0))+1))}),u.after(D,"actionHandler",(g,m,C)=>{m[0].channelId===h&&m[0].message.content&&A(m[0].message.content)&&(y.seek(0),w&&T(!1),S(t.name,"amogusCounter",Number(r(t.name,"amogusCounter",0))+1))}),u.after(_,"actionHandler",(g,m,C)=>{m[0].channelId===h&&A(m[0].emoji.name)&&(y.seek(0),w&&T(!1),S(t.name,"amogusCounter",Number(r(t.name,"amogusCounter",0))+1))}),n.createElement(n.Fragment,null,M.apply(a,d),n.createElement(K,{ref:g=>{y=g},source:{uri:"https://github.com/QuanTrieuPCYT/Amogus/raw/main/src/amogus.mp4"},audioOnly:!0,paused:w,volume:Number(r(t.name,"volume"))}))})}catch{o<i&&setTimeout(()=>s(),o*1e3)}};setTimeout(()=>s(),300)},onStop(){u.unpatchAll()},getSettingsPanel({settings:o}){return n.createElement(z,{settings:o})}};R(W);
